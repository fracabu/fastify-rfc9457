<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350" width="800" height="350">
  <style>
    /* Base Colors - Light Mode */
    .bg { fill: #ffffff; }
    .card-bg { fill: #f9fafb; }
    .stroke { stroke: #e5e7eb; stroke-width: 1.5; }
    .text-main { fill: #1f2937; font-family: system-ui, sans-serif; font-weight: 600; }
    .text-code { fill: #4b5563; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: 13px; }
    .text-label { fill: #9ca3af; font-family: system-ui, sans-serif; font-size: 11px; font-weight: 600; letter-spacing: 0.5px; text-transform: uppercase; }
    .accent { stroke: #3b82f6; stroke-width: 2; }
    .accent-fill { fill: #3b82f6; }

    /* Dark Mode Support */
    @media (prefers-color-scheme: dark) {
      .bg { fill: #0d1117; }
      .card-bg { fill: #161b22; }
      .stroke { stroke: #30363d; }
      .text-main { fill: #f0f6fc; }
      .text-code { fill: #c9d1d9; }
      .text-label { fill: #8b949e; }
      .accent { stroke: #60a5fa; }
      .accent-fill { fill: #60a5fa; }
    }
  </style>

  <!-- Canvas -->
  <rect width="100%" height="100%" class="bg" />

  <!-- LEFT: Input Code -->
  <g transform="translate(40, 80)">
    <text x="0" y="-15" class="text-label">Developer Code</text>
    <rect x="0" y="0" width="260" height="180" rx="8" class="card-bg stroke" fill="none"/>
    
    <!-- Code Window Controls -->
    <circle cx="20" cy="20" r="4" fill="#ef4444" opacity="0.5"/>
    <circle cx="35" cy="20" r="4" fill="#eab308" opacity="0.5"/>
    <circle cx="50" cy="20" r="4" fill="#22c55e" opacity="0.5"/>
    <line x1="0" y1="40" x2="260" y2="40" class="stroke" />

    <!-- Code Snippet -->
    <text x="20" y="70" class="text-code">reply<tspan font-weight="bold" fill="currentColor">.notFound</tspan>({</text>
    <text x="35" y="95" class="text-code">detail: <tspan opacity="0.7">'User 123'</tspan>,</text>
    <text x="35" y="120" class="text-code">instance: <tspan opacity="0.7">'/u/123'</tspan></text>
    <text x="20" y="145" class="text-code">})</text>
  </g>

  <!-- MIDDLE: The Plugin Logic -->
  <g transform="translate(340, 150)">
    <line x1="-40" y1="20" x2="0" y2="20" class="stroke accent" stroke-dasharray="4 4"/>
    <circle cx="20" cy="20" r="30" class="bg stroke accent"/>
    <!-- Icon: Gear / Process -->
    <path d="M12 20 L28 20 M20 12 L20 28" class="stroke" stroke-linecap="round" />
    <text x="20" y="75" text-anchor="middle" class="text-label">RFC 9457</text>
    <line x1="50" y1="20" x2="90" y2="20" class="stroke accent" stroke-dasharray="4 4"/>
    <polygon points="85,15 92,20 85,25" class="accent-fill" />
  </g>

  <!-- RIGHT: Output JSON -->
  <g transform="translate(450, 80)">
    <text x="0" y="-15" class="text-label">HTTP Response</text>
    <rect x="0" y="0" width="310" height="180" rx="8" class="card-bg stroke" fill="none"/>
    
    <!-- JSON Content -->
    <text x="20" y="40" class="text-code">{</text>
    <text x="35" y="65" class="text-code">"type": <tspan opacity="0.7">"../not-found"</tspan>,</text>
    <text x="35" y="90" class="text-code">"title": <tspan opacity="0.7">"Not Found"</tspan>,</text>
    <text x="35" y="115" class="text-code">"status": <tspan font-weight="bold" fill="#ef4444">404</tspan>,</text>
    <text x="35" y="140" class="text-code">"detail": <tspan opacity="0.7">"User 123"</tspan></text>
    <text x="20" y="165" class="text-code">}</text>
  </g>

  <!-- Bottom Tagline -->
  <text x="400" y="310" text-anchor="middle" class="text-main" font-size="16">Standardized error handling for Fastify</text>
</svg>